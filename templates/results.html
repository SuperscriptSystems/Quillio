<!DOCTYPE html>
<html>
<head>
          <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='favicon.png') }}">
<title>{% if lang == 'russian' %}–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞{% else %}Test Results{% endif %}</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
/* Styles remain the same */
body { background: #2A3F4A; color: #F0F0F0; font-family: 'Roboto', sans-serif; padding: 40px 20px; }
.container { max-width: 700px; margin: auto; background: #344955; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); animation: fadeIn 1s ease-in-out; }
h1 { color: #F0F0F0; border-bottom: 2px solid #4a5e6a; padding-bottom: 10px; }
.assessment-summary {
    font-size: 1.1em;
    color: #E0E0E0;
    margin-bottom: 30px;
    padding: 20px;
    background: #2A3F4A;
    border-left: 5px solid #5cb85c;
    border-radius: 8px;
    line-height: 1.7;
}
.assessment-title {
    font-size: 1.5em;
    font-weight: bold;
    color: #F0F0F0;
    margin-bottom: 20px;
    text-align: center;
}
p { margin: 25px 0; line-height: 1.7; color: #E0E0E0; padding-bottom: 20px; border-bottom: 1px solid #4a5e6a; }
p:last-of-type { border-bottom: none; }
strong { color: #F0F0F0; }
.status-correct { color: #5cb85c; font-weight: 700; }
.status-incorrect { color: #d9534f; font-weight: 700; }
a { display: inline-block; margin-top: 20px; margin-right: 10px; text-decoration: none; background: #5cb85c; color: #fff; padding: 12px 20px; border-radius: 8px; font-weight: bold; transition: background-color 0.3s ease; }
a:hover { background: #4a9a_ia; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>
<body>
    <div class="container">
        <h1>üí° {% if lang == 'russian' %}–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏{% else %}Initial Assessment Results{% endif %}</h1>
        <div class="assessment-title">{% if lang == 'russian' %}–û—Ü–µ–Ω–∫–∞ –∑–Ω–∞–Ω–∏–π{% else %}Knowledge Assessment{% endif %}</div>
        <div class="assessment-summary">
            {{ knowledge_assessment | safe }}
        </div>
        {% if course_id %}
            <a href="{{ url_for('show_course', course_id=course_id) }}">{% if lang == 'russian' %}üìò –ü–µ—Ä–µ–π—Ç–∏ –∫ –≤–∞—à–µ–º—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º—É –∫—É—Ä—Å—É{% else %}üìò Go to Your Personalized Course{% endif %}</a>
        {% endif %}
        {% for item in answers %}
            <p><strong>{% if lang == 'russian' %}–í:{% else %}Q:{% endif %}</strong> {{ item.question }}<br>
               <strong>{% if lang == 'russian' %}üìù –í–∞—à –æ—Ç–≤–µ—Ç:{% else %}üìù Your Answer:{% endif %}</strong> {{ item.answer }}<br>
               <strong>{% if lang == 'russian' %}‚úÖ –û—Ü–µ–Ω–∫–∞:{% else %}‚úÖ Assessment:{% endif %}</strong>
               {% set assess = item.assessment or '' %}
               {% set lower = assess|lower %}
               {% if lower[:7] == 'correct' %}
                   <span class="status-correct">{{ assess[:7] }}</span>{{ assess[7:] }}
               {% elif lower[:9] == 'incorrect' %}
                   <span class="status-incorrect">{{ assess[:9] }}</span>{{ assess[9:] }}
               {% elif lower[:9] == '–ø—Ä–∞–≤–∏–ª—å–Ω–æ' %}
                   <span class="status-correct">{{ assess[:9] }}</span>{{ assess[9:] }}
               {% elif lower[:12] == '–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ' %}
                   <span class="status-incorrect">{{ assess[:12] }}</span>{{ assess[12:] }}
               {% else %}
                   {{ assess }}
               {% endif %}
            </p>
        {% endfor %}

        {% if course_id %}
            <a href="{{ url_for('show_course', course_id=course_id) }}">{% if lang == 'russian' %}üìò –ü–µ—Ä–µ–π—Ç–∏ –∫ –≤–∞—à–µ–º—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º—É –∫—É—Ä—Å—É{% else %}üìò Go to Your Personalized Course{% endif %}</a>
        {% endif %}
    </div>
</body>
</html>